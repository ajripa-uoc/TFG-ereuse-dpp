# .github/workflows/id-index-api-ci-cd.yaml
name: CI/CD id-index-api
on:
  push:
    branches: [ main ]
    paths:
      - 'idIndexApi/**'
  workflow_dispatch:

permissions:
  contents: read
  packages: write
  id-token: write

jobs:
  build-and-push:
    name: Build and Push Docker image
    uses: ./.github/workflows/docker-build-template.yaml
    with:
      image_name: tfg-ereuse-dpp/id-index-api
      context_path: ./idIndexApi
      dockerfile_path: ./idIndexApi/Dockerfile